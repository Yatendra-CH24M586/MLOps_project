schema: '2.0'
stages:
  train:
    cmd: python src/train.py --train data/processed/train_train.parquet --val 
      data/processed/train_val.parquet --params params.yaml
    deps:
    - path: data/processed/train_train.parquet
      hash: md5
      md5: 606a72f7e6ce114e520e428a6a057b91.dir
      size: 33349
      nfiles: 4
    - path: data/processed/train_val.parquet
      hash: md5
      md5: 7d4ff9bbf0188a01d457a90ed8321c03.dir
      size: 11029
      nfiles: 4
    - path: params.yaml
      hash: md5
      md5: 0c863387c889d8a7e115bedce023ee86
      size: 800
    - path: src/train.py
      hash: md5
      md5: 938557f6f92e1c502f9ec70d7e6b9665
      size: 6050
    outs:
    - path: models/titanic_model
      hash: md5
      md5: ede1a8f108e7d63fd79e830de7fdf1f2.dir
      size: 78363
      nfiles: 44
  preprocess:
    cmd: python src/data_pipeline.py --params params.yaml
    deps:
    - path: data/raw/t10k-images.idx3-ubyte
      hash: md5
      md5: 2646ac647ad5339dbf082846283269ea
      size: 7840016
    - path: data/raw/t10k-labels.idx1-ubyte
      hash: md5
      md5: 27ae3e4e09519cfbb04c329615203637
      size: 10008
    - path: data/raw/test.csv
      hash: md5
      md5: 7533b82eae4b582610cbd68aa636b017
      size: 28629
    - path: data/raw/train-images.idx3-ubyte
      hash: md5
      md5: 6bbc9ace898e44ae57da46a324031adb
      size: 47040016
    - path: data/raw/train-labels.idx1-ubyte
      hash: md5
      md5: a25bea736e30d166cdddb491f175f624
      size: 60008
    - path: data/raw/train.csv
      hash: md5
      md5: 2309cc5f04782ed9bb6016d9f4e381cf
      size: 61194
    - path: params.yaml
      hash: md5
      md5: 0c863387c889d8a7e115bedce023ee86
      size: 800
    - path: src/data_pipeline.py
      hash: md5
      md5: c3dc65be96257a343ecb145690c1ea84
      size: 8251
    outs:
    - path: data/processed/train.parquet
      hash: md5
      md5: 78f1709b9273eaa88540e31116cca7d1.dir
      size: 38440
      nfiles: 4
  split:
    cmd: python src/split.py data/processed/train.parquet 
      data/processed/train_train.parquet data/processed/train_val.parquet 
      --params params.yaml
    deps:
    - path: data/processed/train.parquet
      hash: md5
      md5: 78f1709b9273eaa88540e31116cca7d1.dir
      size: 38440
      nfiles: 4
    - path: params.yaml
      hash: md5
      md5: 0c863387c889d8a7e115bedce023ee86
      size: 800
    - path: src/split.py
      hash: md5
      md5: 70c0e1a40d848183e4a18c840a5caaf1
      size: 3492
    outs:
    - path: data/processed/train_train.parquet
      hash: md5
      md5: 606a72f7e6ce114e520e428a6a057b91.dir
      size: 33349
      nfiles: 4
    - path: data/processed/train_val.parquet
      hash: md5
      md5: 7d4ff9bbf0188a01d457a90ed8321c03.dir
      size: 11029
      nfiles: 4
  evaluate:
    cmd: python src/evaluate.py --val data/processed/train_val.parquet --model 
      models/titanic_model --params params.yaml
    deps:
    - path: data/processed/train_val.parquet
      hash: md5
      md5: 7d4ff9bbf0188a01d457a90ed8321c03.dir
      size: 11029
      nfiles: 4
    - path: models/titanic_model
      hash: md5
      md5: ede1a8f108e7d63fd79e830de7fdf1f2.dir
      size: 78363
      nfiles: 44
    - path: params.yaml
      hash: md5
      md5: 0c863387c889d8a7e115bedce023ee86
      size: 800
    - path: src/evaluate.py
      hash: md5
      md5: 477580341f74a432dd329227b5169525
      size: 3936
    outs:
    - path: metrics.json
      hash: md5
      md5: 894887e7e3bc4807f38b539aed0c9adf
      size: 30
